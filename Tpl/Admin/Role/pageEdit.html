<div class="rightInner">
    <form id="role_form" name="role_form" method="post" action="{:U('Admin/Role/doEdit')}">
        <table class="tbForm" width="100%">
            <thead>
                <tr class="title">
                    <th colspan="99">角色修改</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="first">角色名称：</td>
                    <td>
                        <input type="text" name="name" id="name" class="medium" value="{$vo.name}" validate='{ required:true,maxlength:30,remote:"{:U("Admin/Role/checkEditName","id=$vo[id]")}"}'/> <br> 
                    </td>
                </tr>
                <tr>
                    <td class="first">权限设置：</td>
                    <td>
                        1. 如果要指定当前模块下的所有权限，可选中该模块名称 <br>
                        2. 如果要指定当前模块下的操作权限，可选中该模块的操作名称
                    </td>
                </tr>
                <tr>
                    <th class="first" style="text-align: center">模块</th>
                    <th colspan="2" style="text-align: center;">
                        操作
                    </th>
                </tr>
                
                <volist name="access_list" id="list">
                <tr>
                    <td class="first" style="padding-top:5px;line-height: 24px;vertical-align: top;border-right: 1px;text-align: left;">
                        <p>
                            <label>
                                <input class="module-item" type="checkbox" name="access_node[]" value="{$list.id}" style="vertical-align:-3px;padding: 0px;margin-right: 3px;" <if condition="$list['checked']">checked="checked"</if> <if condition="$list['readonly'] eq 1">disabled="true" </if>>
                                <span>{$list.module_name}</span>
                            </label>
                        </p>
                    </td>
                    <td colspan="2" style="">
                        <p>	
                            <div class="role_div" style="width:400px;">
                                <ul>
                                    <volist name="list.actions" id="action">
                                        <li style=" float: left;height: 25px;width: 33%;line-height: 25px;overflow: hidden;">
                                            <label>
                                                <input class="action-item" type="checkbox" name="access_node[]" value="{$action.id}" key="k" style="vertical-align:-3px;padding: 0px;margin-right: 3px;" <if condition="$action['checked']">checked="checked"</if>  <if condition="$action['readonly'] eq 1">disabled="true" </if>>
                                                <span>{$action.action_name}</span>
                                            </label>
                                        </li>
                                    </volist>
                                </ul>
                                
                            </div>
                </p>
                </td>
                </tr>
            </volist>
                
<!--            <volist name="access_list" id="list">
                <tr>
                    <td class="first">
                        <p>
                            <label>
                                <input class="module-item" type="checkbox" name="access_node[]" value="{$list.id}" <if condition="$list['checked']">checked="checked"</if>>
                                <span>&nbsp;{$list.module_name}&nbsp;</span>
                            </label>
                        </p>
                    </td>
                    <td colspan="2">
                        <p>	
                            <if condition="isset($list['actions'])">
                                <label><input class="select-all" type="checkbox" <if condition="$list['checkall']">checked="checked"</if> <if condition="$list['checked']">disabled</if>>&nbsp;<span>全选</span></label>
                            </if>
                            
                            <volist name="list.actions" id="action">
                                <label>
                                    <input class="action-item" type="checkbox" name="access_node[]" value="{$action.id}" <if condition="$action['checked']">checked="checked"</if> <if condition="$list['checked']">disabled</if>>
                                    <span>&nbsp;{$action.action_name}</span>
                                </label>&nbsp;&nbsp;
                            </volist>
                        </p>
                </td>
                </tr>
            </volist>-->
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="99">
                        <input type="submit" value="提 交" class="btnA" >
                        <input type="button" value="取 消" class="btnA" >
                    </td>
                </tr>
            </tfoot>
        </table>
        <input type="hidden" id="id" name="id" value="{$vo.id}">
    </form>
    <div class="clear"></div>
</div>
<script>
    $(document).ready(function(){   
        $("#role_form").validate();   
    });
</script>